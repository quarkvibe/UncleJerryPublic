<VirtualHost *:80>
    ServerName blueprint.local
    ServerAlias www.blueprint.local
    
    # Document Root for frontend static files
    DocumentRoot /home/quarkvibe/uncle-jerry-blueprint-analyzer/frontend/build
    
    <Directory /home/quarkvibe/uncle-jerry-blueprint-analyzer/frontend/build>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    
    # Proxy for backend API
    ProxyRequests Off
    ProxyPreserveHost On
    
    <Location /api>
        ProxyPass http://localhost:3001/api
        ProxyPassReverse http://localhost:3001/api
    </Location>
    
    # MongoDB Express UI
    <Location /mongo>
        ProxyPass http://localhost:8081
        ProxyPassReverse http://localhost:8081
    </Location>
    
    ErrorLog ${APACHE_LOG_DIR}/blueprint-error.log
    CustomLog ${APACHE_LOG_DIR}/blueprint-access.log combined
</VirtualHost>